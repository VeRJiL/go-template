# =================================================================
# GO TEMPLATE APPLICATION CONFIGURATION
# =================================================================
# Copy this file to .env and update the values for your environment
# DO NOT commit .env files to version control

# =================================================================
# APPLICATION SETTINGS
# =================================================================
APP_NAME="Go Template"
APP_VERSION="1.0.0"
APP_DESCRIPTION="Professional Go application template"
APP_AUTHOR="Your Company"
APP_LICENSE="MIT"

# =================================================================
# SERVER CONFIGURATION
# =================================================================
# Server host and port
SERVER_HOST=localhost
SERVER_PORT=8080
SERVER_MODE=development# development, staging, production

# Request timeouts (in seconds)
READ_TIMEOUT=30
WRITE_TIMEOUT=30
IDLE_TIMEOUT=120

# Graceful shutdown timeout (in seconds)
SHUTDOWN_TIMEOUT=30

# Max request body size (in MB)
MAX_BODY_SIZE=10

# Enable/disable server features
ENABLE_PPROF=true           # Go profiling endpoint
ENABLE_METRICS=true         # Metrics collection
ENABLE_SWAGGER=true         # API documentation
ENABLE_CORS=true           # CORS middleware

# =================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =================================================================
DB_DRIVER=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=go_template
DB_SSLMODE=disable

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_MAX_CONN_LIFETIME_HOURS=1

# Query timeout (in seconds)
DB_QUERY_TIMEOUT=30

# Migration settings
DB_AUTO_MIGRATE=false
DB_MIGRATION_PATH=./migrations/postgres

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=3

# Redis timeouts (in seconds)
REDIS_DIAL_TIMEOUT=5
REDIS_READ_TIMEOUT=3
REDIS_WRITE_TIMEOUT=3

# Cache TTL settings (in seconds)
CACHE_USER_TTL=3600         # 1 hour
CACHE_SESSION_TTL=86400     # 24 hours
CACHE_DEFAULT_TTL=1800      # 30 minutes

# =================================================================
# MONGODB CONFIGURATION
# =================================================================
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=go_template
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_AUTH_SOURCE=admin

# MongoDB connection settings
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=5
MONGODB_CONNECT_TIMEOUT=10
MONGODB_SERVER_SELECTION_TIMEOUT=5

# =================================================================
# ELASTICSEARCH CONFIGURATION
# =================================================================
ELASTICSEARCH_URLS=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX_PREFIX=go_template
ELASTICSEARCH_API_KEY=

# Elasticsearch settings
ELASTICSEARCH_MAX_RETRIES=3
ELASTICSEARCH_COMPRESS=true
ELASTICSEARCH_DISCOVER_NODES=false
ELASTICSEARCH_SNIFF=false

# =================================================================
# AUTHENTICATION & SECURITY
# =================================================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-must-be-32-chars-minimum
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_HOURS=168  # 7 days
JWT_ISSUER=go-template
JWT_ALGORITHM=HS256

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-in-production
SESSION_MAX_AGE_HOURS=24
SESSION_SECURE=false        # Set to true in production with HTTPS
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax       # strict, lax, none

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_MAX_AGE_DAYS=90

# Account Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30
PASSWORD_RESET_EXPIRY_MINUTES=30
EMAIL_VERIFICATION_REQUIRED=false

# =================================================================
# RATE LIMITING & SECURITY
# =================================================================
# Rate limiting (requests per minute)
RATE_LIMIT_GLOBAL=1000      # Global rate limit
RATE_LIMIT_AUTH=10          # Login/register endpoints
RATE_LIMIT_API=100          # API endpoints
RATE_LIMIT_PUBLIC=50        # Public endpoints

# IP Security
ENABLE_IP_WHITELIST=false
WHITELISTED_IPS=127.0.0.1,::1
BLOCKED_IPS=

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'"

# CSRF Protection
CSRF_KEY=32-character-key-for-csrf-protection-change-this
CSRF_SECURE=false           # Set to true in production
CSRF_HTTP_ONLY=true

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
LOG_LEVEL=debug             # debug, info, warn, error, fatal, panic
LOG_FORMAT=text             # text, json
LOG_OUTPUT=stdout           # stdout, stderr, file
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE_MB=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE_DAYS=28
LOG_COMPRESS=true

# Request Logging
LOG_REQUESTS=true
LOG_REQUEST_HEADERS=false
LOG_REQUEST_BODY=false      # Be careful with sensitive data

# =================================================================
# EMAIL CONFIGURATION
# =================================================================
EMAIL_PROVIDER=smtp         # smtp, sendgrid, mailgun, ses
EMAIL_FROM_ADDRESS=noreply@yourapp.com
EMAIL_FROM_NAME="Go Template"

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# SendGrid Configuration
SENDGRID_API_KEY=

# Mailgun Configuration
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_BASE_URL=https://api.mailgun.net/v3

# AWS SES Configuration
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY=
AWS_SES_SECRET_KEY=

# Email Templates
EMAIL_TEMPLATE_DIR=./templates/emails

# =================================================================
# FILE STORAGE CONFIGURATION
# =================================================================
STORAGE_PROVIDER=local      # local, s3, minio, cloudflare_r2, backblaze_b2, gcs, azure

# Local Storage
LOCAL_STORAGE_PATH=./uploads
LOCAL_STORAGE_URL_PREFIX=/uploads

# AWS S3 Configuration
AWS_S3_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=
AWS_S3_USE_SSL=true
AWS_S3_FORCE_PATH_STYLE=false

# MinIO Configuration (Free, Self-hosted S3-compatible)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=uploads
MINIO_USE_SSL=false
MINIO_PUBLIC_URL=

# Cloudflare R2 Configuration (10GB free)
CLOUDFLARE_R2_ACCOUNT_ID=
CLOUDFLARE_R2_ACCESS_KEY=
CLOUDFLARE_R2_SECRET_KEY=
CLOUDFLARE_R2_BUCKET=
CLOUDFLARE_R2_PUBLIC_URL=

# Backblaze B2 Configuration (10GB free + 1GB free download daily)
BACKBLAZE_B2_REGION=us-west-000
BACKBLAZE_B2_KEY_ID=
BACKBLAZE_B2_KEY_SECRET=
BACKBLAZE_B2_BUCKET=
BACKBLAZE_B2_PUBLIC_URL=

# Google Cloud Storage
GCS_BUCKET=your-gcs-bucket
GCS_PROJECT_ID=your-project-id
GCS_CREDENTIALS_FILE=./credentials/gcs-service-account.json

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_STORAGE_CONTAINER=

# File Upload Limits
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt
UPLOAD_PATH=uploads

# =================================================================
# EXTERNAL SERVICES
# =================================================================
# Payment Processing (Stripe)
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_SUCCESS_URL=http://localhost:8080/payment/success
STRIPE_CANCEL_URL=http://localhost:8080/payment/cancel

# Google Services
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URL=http://localhost:8080/auth/google/callback
GOOGLE_ANALYTICS_ID=

# Social Media APIs
TWITTER_API_KEY=
TWITTER_API_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# Push Notifications
FIREBASE_SERVER_KEY=
PUSHER_APP_ID=
PUSHER_KEY=
PUSHER_SECRET=
PUSHER_CLUSTER=

# =================================================================
# MONITORING & ANALYTICS
# =================================================================
# Application Monitoring
ENABLE_MONITORING=true
MONITORING_PROVIDER=prometheus  # prometheus, datadog, newrelic

# Prometheus Configuration
PROMETHEUS_NAMESPACE=go_template
PROMETHEUS_METRICS_PATH=/metrics

# DataDog Configuration
DATADOG_API_KEY=
DATADOG_APP_KEY=
DATADOG_SITE=datadoghq.com

# New Relic Configuration
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=go-template

# Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=
SENTRY_DEBUG=false

# =================================================================
# FEATURE FLAGS
# =================================================================
# Application Features
FEATURE_USER_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=false
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_API_RATE_LIMITING=true
FEATURE_MAINTENANCE_MODE=false

# Payment Features
FEATURE_PAYMENTS=false
FEATURE_SUBSCRIPTIONS=false
FEATURE_INVOICING=false

# Content Features
FEATURE_FILE_UPLOAD=true
FEATURE_IMAGE_PROCESSING=false
FEATURE_CONTENT_MODERATION=false

# Message Broker Configuration
MESSAGE_BROKER_ENABLED=true
MESSAGE_BROKER_DRIVER=redis
MESSAGE_BROKER_MAX_RETRIES=3
MESSAGE_BROKER_RETRY_INITIAL_INTERVAL=1
MESSAGE_BROKER_RETRY_MAX_INTERVAL=30
MESSAGE_BROKER_RETRY_MULTIPLIER=2.0
MESSAGE_BROKER_RETRY_RANDOM_FACTOR=0.1

# Redis Message Broker Configuration (when MESSAGE_BROKER_DRIVER=redis)
MESSAGE_BROKER_REDIS_HOST=localhost
MESSAGE_BROKER_REDIS_PORT=6379
MESSAGE_BROKER_REDIS_PASSWORD=
MESSAGE_BROKER_REDIS_DB=1
MESSAGE_BROKER_REDIS_POOL_SIZE=10
MESSAGE_BROKER_REDIS_MIN_IDLE_CONNS=3
MESSAGE_BROKER_REDIS_MAX_RETRIES=3
MESSAGE_BROKER_REDIS_CONNECT_TIMEOUT=5
MESSAGE_BROKER_REDIS_READ_TIMEOUT=3
MESSAGE_BROKER_REDIS_WRITE_TIMEOUT=3
MESSAGE_BROKER_REDIS_IDLE_TIMEOUT=300

# RabbitMQ Configuration (when MESSAGE_BROKER_DRIVER=rabbitmq)
RABBITMQ_URL=
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_EXCHANGE=go_template_exchange
RABBITMQ_EXCHANGE_TYPE=topic
RABBITMQ_CONNECTION_TIMEOUT=30
RABBITMQ_HEARTBEAT_INTERVAL=60
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_DURABLE=true
RABBITMQ_AUTO_DELETE=false

# Kafka Configuration (when MESSAGE_BROKER_DRIVER=kafka)
KAFKA_BROKERS=localhost:9092
KAFKA_GROUP_ID=go-template-consumer-group
KAFKA_CLIENT_ID=go-template-client
KAFKA_VERSION=2.6.0
KAFKA_CONNECT_TIMEOUT=30
KAFKA_SESSION_TIMEOUT=30
KAFKA_HEARTBEAT_INTERVAL=3
KAFKA_REBALANCE_TIMEOUT=60
KAFKA_RETURN_SUCCESSES=true
KAFKA_REQUIRED_ACKS=1
KAFKA_COMPRESSION=snappy
KAFKA_FLUSH_FREQUENCY=100
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_AUTO_COMMIT_INTERVAL=1
KAFKA_INITIAL_OFFSET=newest

# Kafka SASL Configuration (optional)
KAFKA_SASL_ENABLE=false
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# Kafka TLS Configuration (optional)
KAFKA_TLS_ENABLE=false
KAFKA_TLS_CERT_FILE=
KAFKA_TLS_KEY_FILE=
KAFKA_TLS_CA_FILE=
KAFKA_TLS_INSECURE_SKIP_VERIFY=false

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
# Logging settings
LOG_LEVEL=info              # trace, debug, info, warn, error, fatal, panic
LOG_FORMAT=json             # text, json
LOG_OUTPUT=stdout           # stdout, stderr, file
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE_MB=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE_DAYS=28
LOG_COMPRESS=true

# Request logging
LOG_REQUESTS=true
LOG_HEADERS=false
LOG_BODY=false

# =================================================================
# ELK STACK CONFIGURATION
# =================================================================
# Elasticsearch settings
ELK_ENABLED=false
ELK_URLS=http://localhost:9200
ELK_USERNAME=
ELK_PASSWORD=
ELK_INDEX_PREFIX=go-template
ELK_API_KEY=
ELK_MAX_RETRIES=3
ELK_COMPRESS=true
ELK_BATCH_SIZE=100
ELK_BATCH_WAIT=5s

# =================================================================
# MONITORING CONFIGURATION (Prometheus + Grafana)
# =================================================================
# Prometheus monitoring
MONITORING_ENABLED=true
MONITORING_NAMESPACE=go_template
MONITORING_METRICS_PATH=/metrics
MONITORING_LISTEN_ADDR=:9090

# =================================================================
# DEVELOPMENT & TESTING
# =================================================================
# Development Tools
ENABLE_DEBUG_MODE=true
ENABLE_HOT_RELOAD=true
ENABLE_QUERY_LOGGING=false
ENABLE_PROFILING=true

# Testing Configuration
TEST_DATABASE_URL=postgres://postgres:password@localhost:5432/go_template_test
TEST_REDIS_URL=redis://localhost:6379/1
PARALLEL_TESTS=true
TEST_TIMEOUT_SECONDS=30

# API Documentation
SWAGGER_TITLE="Go Template API"
SWAGGER_VERSION="1.0.0"
SWAGGER_HOST=localhost:8080
SWAGGER_BASE_PATH=/api/v1
SWAGGER_SCHEMES=http,https

# =================================================================
# PERFORMANCE & OPTIMIZATION
# =================================================================
# Caching Strategy
ENABLE_RESPONSE_CACHING=true
CACHE_STRATEGY=redis        # memory, redis, memcached
DEFAULT_CACHE_DURATION=300  # 5 minutes

# Database Optimization
ENABLE_QUERY_CACHE=true
ENABLE_CONNECTION_POOLING=true
ENABLE_PREPARED_STATEMENTS=true

# Static Asset Configuration
STATIC_ASSET_CACHE_DURATION=86400  # 24 hours
ENABLE_GZIP_COMPRESSION=true
ENABLE_ASSET_MINIFICATION=true

# =================================================================
# BACKUP & MAINTENANCE
# =================================================================
# Automated Backups
ENABLE_AUTO_BACKUP=false
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Maintenance Windows
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="The application is currently under maintenance. Please try again later."
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=3

# =================================================================
# LOCALIZATION & INTERNATIONALIZATION
# =================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de
TIMEZONE=UTC
DATE_FORMAT="2006-01-02"
TIME_FORMAT="15:04:05"
CURRENCY=USD

# =================================================================
# CUSTOM APPLICATION SETTINGS
# =================================================================
# Add your custom application-specific settings here
COMPANY_NAME="Your Company Name"
COMPANY_EMAIL=info@yourcompany.com
COMPANY_PHONE="+1-555-123-4567"
COMPANY_ADDRESS="123 Main St, City, State 12345"

# Business Logic Settings
MAX_USERS_PER_ORGANIZATION=100
DEFAULT_USER_ROLE=user
TRIAL_PERIOD_DAYS=14
MAX_API_REQUESTS_PER_DAY=10000